# Entity

<style>
    .merc-route--active {
        color: #50C87B;
        text-decoration: underline;
        text-decoration-thickness: 0.15rem;
        text-underline-offset: .15lh;
    }

    .merc-route--inactive {
        text-decoration: none;
    }
</style>

<pre>
â”œâ”€â”€ <a class="merc-route--inactive" href="../README.md">..</a>
â”œâ”€â”€ <a class="merc-route--inactive" href="./1.MEMORY.md">Memory</a>
â””â”€â”€ <span><a class="merc-route--active" href="./2.ENTITY.md"><b>Entity</b></a> ðŸ‘ˆ</span>
</pre>

```mermaid
classDiagram
  direction RL
  class Memory {
    +Content content
    +Cue[*] cues
    +Context context
    +Strength strength
    +Effect effect
    +MemoryType type
    +Facet[*] facets
    +Datapoint[*] datapoints
    +Modulator[*] modulators
  }

  %% --- Components (from "Components" section) ---
  class Content {
    +kind: ContentKind
    +value: string
  }

  class Cue {
    +kind: CueKind
    +value: string
  }

  class Context {
    +time: string
    +location: string
    +participants: string[*]
    +threadState: string
    +internalState: string
  }

  class Strength {
    +salience: float
    +repetition: float
    +confidence: float
    +durability: float
    +priority: float
  }

  class Effect {
    +usesFor: EffectKind[*]
  }

  class ContentKind {
    <<enumeration>>
    Fact
    Event
    Skill
    Association
  }

  class CueKind {
    <<enumeration>>
    Keyword
    Person
    Place
    Goal
    Emotion
  }

  class EffectKind {
    <<enumeration>>
    Recommendation
    Warning
    Personalization
    Planning
  }

  %% --- Facets (Declarative / Relational) ---
  class Facet {
    +kind: FacetKind
    +value: float
  }

  class FacetKind {
    <<enumeration>>
    Declarative
    Relational
  }

  %% --- Types (Long/Short term + subtypes) ---
  class MemoryType {
    <<abstract>>
    +storage: StorageKind
  }

  class StorageKind {
    <<enumeration>>
    ShortTerm
    LongTerm
  }

  class Episodic {
    +timeIndexed: bool
    +detailLevel: string
    +autobiographical: bool
  }

  class Semantic {
    +compressed: bool
    +durable: bool
    +supportsReasoning: bool
  }

  class Procedural {
    +learnedViaPractice: bool
    +implicit: bool
    +slowToLearnHardToForget: bool
  }

  class Emotional {
    +emotionStrengthenedEncoding: bool
    +fast: bool
    +durable: bool
    +canOverrideLogic: bool
  }

  class Working {
    +smallCapacity: bool
    +shortLived: bool
    +promotionGate: string
  }

  MemoryType <|-- Episodic
  MemoryType <|-- Semantic
  MemoryType <|-- Procedural
  MemoryType <|-- Emotional
  MemoryType <|-- Working

  %% --- Datapoints (signals/effects that drive encoding & prioritization) ---
  class Datapoint {
    +kind: DatapointKind
    +value: float
  }

  class DatapointKind {
    <<enumeration>>
    AttentionSalience
    EmotionalValenceArousal
    MeaningSemanticIntegration
    ContextualBinding
    OutcomeConsequence
    RepetitionReinforcement
  }

  %% --- Modulators (system-wide knobs that bias storage/priority) ---
  class Modulator {
    +kind: ModulatorKind
    +direction: ModulationDirection
    +magnitude: float
  }

  class ModulatorKind {
    <<enumeration>>
    Sleep
    Stress
    SocialRelevance
    PredictionError
    RecallAttempts
    NarrativeCoherence
  }

  class ModulationDirection {
    <<enumeration>>
    Increase
    Decrease
  }

  %% --- Relationships ---
  Memory "1" *-- "1" Content : has
  Memory "1" *-- "*" Cue : cuedBy
  Memory "1" *-- "1" Context : boundTo
  Memory "1" *-- "1" Strength : weightedBy
  Memory "1" *-- "1" Effect : usedFor
  Memory "1" *-- "1" MemoryType : classifiedAs

  Memory "1" o-- "*" Facet : describedBy
  Memory "1" o-- "*" Datapoint : scoredBy
  Memory "1" o-- "*" Modulator : biasedBy

  %% Facet applicability (per doc: Declarative+Relational apply to Episodic/Semantic)
  FacetKind ..> Episodic : applies
  FacetKind ..> Semantic : applies

  %% Storage mapping (per doc: Working=ShortTerm; others are LongTerm)
  Working ..> StorageKind : ShortTerm
  Episodic ..> StorageKind : LongTerm
  Semantic ..> StorageKind : LongTerm
  Procedural ..> StorageKind : LongTerm
  Emotional ..> StorageKind : LongTerm

  %% Encoding threshold idea: salience+meaning+context+consequence -> Strength/Durability
  DatapointKind ..> Strength : influences
  ModulatorKind ..> Strength : modulates
```